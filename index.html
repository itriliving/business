<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bahia Golf Beach - Premium Revenue Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        .fifa-gradient {
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 25%, #45b7d1 50%, #96ceb4 75%, #ffeaa7 100%);
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.3);
        }
        .tab-active {
            border-bottom: 2px solid #3b82f6;
            color: #3b82f6;
        }
        .tab-inactive {
            border-bottom: 2px solid transparent;
            color: #6b7280;
        }
        .bar-chart {
            display: flex;
            align-items: end;
            height: 200px;
            padding: 20px;
            gap: 20px;
        }
        .bar {
            min-width: 60px;
            border-radius: 4px 4px 0 0;
            position: relative;
            transition: all 0.3s ease;
        }
        .bar-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            text-align: center;
            width: 80px;
        }
        .bar-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 11px;
            font-weight: bold;
            white-space: nowrap;
        }
        .editable-field {
            border: 1px solid transparent;
            padding: 2px;
            border-radius: 4px;
            transition: all 0.2s;
        }
        .editable-field:hover {
            border-color: #e5e7eb;
            background-color: #f9fafb;
        }
        .editable-field:focus {
            outline: none;
            border-color: #3b82f6;
            background-color: white;
        }
        .save-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
            font-size: 14px;
        }
        .save-indicator.show {
            opacity: 1;
        }
        .report-section {
            padding: 20px;
            margin-bottom: 30px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .report-header {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .metric-card {
            background: #f9fafb;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }
        @media print {
            .no-print {
                display: none !important;
            }
            .page-break {
                page-break-after: always;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Save Indicator -->
    <div id="saveIndicator" class="save-indicator">üíæ Settings Saved</div>
    
    <!-- Header -->
    <div class="bg-white shadow-sm border-b no-print">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <div class="p-2 bg-blue-600 rounded-lg">
                        <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Bahia Golf Beach Resort</h1>
                        <p class="text-sm text-gray-600">Luxury Guesthouse Revenue Management</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="text-sm text-gray-600">Bouznika, Morocco</p>
                    <p class="text-xs text-gray-500">Strategic location: 2030 World Cup proximity</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="bg-white border-b no-print">
        <div class="max-w-7xl mx-auto px-4">
            <nav class="flex space-x-8 overflow-x-auto">
                <button onclick="showTab('dashboard')" id="tab-dashboard" class="tab-active py-4 px-1 font-medium text-sm whitespace-nowrap">Dashboard</button>
                <button onclick="showTab('core')" id="tab-core" class="tab-inactive py-4 px-1 font-medium text-sm whitespace-nowrap">Core Services</button>
                <button onclick="showTab('packages')" id="tab-packages" class="tab-inactive py-4 px-1 font-medium text-sm whitespace-nowrap">Packages</button>
                <button onclick="showTab('events')" id="tab-events" class="tab-inactive py-4 px-1 font-medium text-sm whitespace-nowrap">Event Services</button>
                <button onclick="showTab('scenarios')" id="tab-scenarios" class="tab-inactive py-4 px-1 font-medium text-sm whitespace-nowrap">Scenarios</button>
                <button onclick="showTab('analytics')" id="tab-analytics" class="tab-inactive py-4 px-1 font-medium text-sm whitespace-nowrap">Analytics</button>
                <button onclick="showTab('reports')" id="tab-reports" class="tab-inactive py-4 px-1 font-medium text-sm whitespace-nowrap">Reports</button>
                <button onclick="showTab('settings')" id="tab-settings" class="tab-inactive py-4 px-1 font-medium text-sm whitespace-nowrap">Settings</button>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 py-8">
        
        <!-- Dashboard Tab -->
        <div id="dashboard-content" class="tab-content">
            <div class="space-y-6">
                <!-- KPI Cards -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">Key Performance Indicators</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">RevPAR</p>
                                    <p class="text-2xl font-bold text-gray-900" id="revpar">$346</p>
                                    <p class="text-xs text-gray-500 mt-1">Revenue per Available Room</p>
                                </div>
                                <svg class="h-8 w-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">ADR</p>
                                    <p class="text-2xl font-bold text-gray-900" id="adr">$455</p>
                                    <p class="text-xs text-gray-500 mt-1">Average Daily Rate</p>
                                </div>
                                <svg class="h-8 w-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Avg Occupancy</p>
                                    <p class="text-2xl font-bold text-gray-900" id="occupancy">65%</p>
                                    <p class="text-xs text-gray-500 mt-1">Annual Average</p>
                                </div>
                                <svg class="h-8 w-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M18.5 7.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Yearly Revenue</p>
                                    <p class="text-2xl font-bold text-gray-900" id="total-revenue">$2,662,640</p>
                                    <p class="text-xs text-gray-500 mt-1">All Business Units</p>
                                </div>
                                <svg class="h-8 w-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Revenue Chart -->
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-lg font-semibold mb-4">Yearly Revenue by Business Unit</h3>
                    <div class="bar-chart bg-gray-50 rounded-lg">
                        <div class="bar bg-blue-500" id="bar-accommodation" style="height: 80%;">
                            <div class="bar-value text-blue-700">$630K</div>
                            <div class="bar-label">Accommodation</div>
                        </div>
                        <div class="bar bg-green-500" id="bar-culinary" style="height: 45%;">
                            <div class="bar-value text-green-700">$360K</div>
                            <div class="bar-label">Culinary</div>
                        </div>
                        <div class="bar bg-purple-500" id="bar-wellness" style="height: 25%;">
                            <div class="bar-value text-purple-700">$187K</div>
                            <div class="bar-label">Wellness</div>
                        </div>
                        <div class="bar bg-cyan-500" id="bar-nautical" style="height: 20%;">
                            <div class="bar-value text-cyan-700">$150K</div>
                            <div class="bar-label">Nautical</div>
                        </div>
                        <div class="bar bg-red-500" id="bar-events" style="height: 100%;">
                            <div class="bar-value text-red-700">$876K</div>
                            <div class="bar-label">Events</div>
                        </div>
                        <div class="bar bg-orange-500" id="bar-lifestyle" style="height: 55%;">
                            <div class="bar-value text-orange-700">$459K</div>
                            <div class="bar-label">Packages</div>
                        </div>
                    </div>
                </div>

                <!-- Additional Metrics -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h4 class="font-semibold mb-4">Guest Satisfaction</h4>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">NPS Score</span>
                                <span class="font-medium">78</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Return Guest Rate</span>
                                <span class="font-medium">35%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Review Score</span>
                                <span class="font-medium">9.2/10</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h4 class="font-semibold mb-4">Operational Efficiency</h4>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Cost per Guest</span>
                                <span class="font-medium">$85</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Staff Efficiency</span>
                                <span class="font-medium">92%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Avg Length of Stay</span>
                                <span class="font-medium">3.2 nights</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h4 class="font-semibold mb-4">Market Performance</h4>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Market Share</span>
                                <span class="font-medium">12%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Booking Lead Time</span>
                                <span class="font-medium">21 days</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Direct Bookings</span>
                                <span class="font-medium">45%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FIFA World Cup 2030 Impact Analysis -->
                <div class="fifa-gradient p-8 rounded-xl relative overflow-hidden">
                    <div class="absolute inset-0 bg-black bg-opacity-10 rounded-xl"></div>
                    <div class="relative z-10">
                        <div class="flex items-center justify-center mb-6">
                            <h3 class="text-2xl font-bold text-white text-center">FIFA World Cup 2030 Impact Analysis</h3>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="bg-white bg-opacity-95 p-6 rounded-lg shadow-lg transform hover:scale-105 transition-transform">
                                <h4 class="font-bold text-green-700 text-center text-lg">Expected Revenue Boost</h4>
                                <p class="text-4xl font-bold text-green-800 text-center">+285%</p>
                                <p class="text-sm text-gray-600 text-center">During tournament period</p>
                            </div>
                            <div class="bg-white bg-opacity-95 p-6 rounded-lg shadow-lg transform hover:scale-105 transition-transform">
                                <h4 class="font-bold text-blue-700 text-center text-lg">Premium Pricing</h4>
                                <p class="text-4xl font-bold text-blue-800 text-center">$1,200</p>
                                <p class="text-sm text-gray-600 text-center">Average daily rate</p>
                            </div>
                            <div class="bg-white bg-opacity-95 p-6 rounded-lg shadow-lg transform hover:scale-105 transition-transform">
                                <h4 class="font-bold text-purple-700 text-center text-lg">Bookings Forecast</h4>
                                <p class="text-4xl font-bold text-purple-800 text-center">100%</p>
                                <p class="text-sm text-gray-600 text-center">Expected occupancy</p>
                            </div>
                        </div>
                        <div class="mt-6 text-center">
                            <p class="text-white text-lg font-semibold bg-black bg-opacity-30 inline-block px-6 py-2 rounded-full">
                                üèüÔ∏è Strategic Location: Hassan II Stadium Proximity üèüÔ∏è
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Core Services Tab -->
        <div id="core-content" class="tab-content hidden">
            <div class="space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-lg font-semibold mb-4">Property Configuration</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">Deluxe Rooms</label>
                            <input type="number" id="rooms" value="4" onchange="updatePropertyWithAutoSave()" class="w-full p-3 border rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">VIP Suites</label>
                            <input type="number" id="vipSuite" value="1" onchange="updatePropertyWithAutoSave()" class="w-full p-3 border rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Base Room Rate ($)</label>
                            <input type="number" id="baseRate" value="350" onchange="updatePropertyWithAutoSave()" class="w-full p-3 border rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">VIP Suite Rate ($)</label>
                            <input type="number" id="vipRate" value="650" onchange="updatePropertyWithAutoSave()" class="w-full p-3 border rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Peak Season Occupancy (%)</label>
                            <input type="number" id="peakOccupancy" value="85" min="0" max="100" onchange="updatePropertyWithAutoSave()" class="w-full p-3 border rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Shoulder Season Occupancy (%)</label>
                            <input type="number" id="shoulderOccupancy" value="65" min="0" max="100" onchange="updatePropertyWithAutoSave()" class="w-full p-3 border rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Off-Peak Season Occupancy (%)</label>
                            <input type="number" id="offpeakOccupancy" value="45" min="0" max="100" onchange="updatePropertyWithAutoSave()" class="w-full p-3 border rounded-lg">
                        </div>
                    </div>
                </div>

                <!-- Dynamic Pricing Strategy -->
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-lg font-semibold mb-4">Dynamic Pricing Strategy</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="p-4 bg-red-50 rounded-lg">
                            <h4 class="font-semibold text-red-800 mb-2">Peak Season</h4>
                            <div class="mb-3">
                                <label class="block text-sm font-medium mb-1">Premium (%)</label>
                                <input type="number" id="peak-premium" value="40" onchange="updatePropertyWithAutoSave()" class="w-full p-2 border rounded text-center">
                            </div>
                            <p class="text-sm text-gray-600">Jun, Jul, Aug, Dec</p>
                            <p class="text-lg font-semibold mt-2" id="peak-price">$490/night</p>
                            <p class="text-sm text-gray-500 mt-1">Occupancy: <span id="peak-occ-display">85%</span></p>
                        </div>
                        <div class="p-4 bg-yellow-50 rounded-lg">
                            <h4 class="font-semibold text-yellow-800 mb-2">Shoulder Season</h4>
                            <div class="mb-3">
                                <label class="block text-sm font-medium mb-1">Premium (%)</label>
                                <input type="number" id="shoulder-premium" value="10" onchange="updatePropertyWithAutoSave()" class="w-full p-2 border rounded text-center">
                            </div>
                            <p class="text-sm text-gray-600">Apr, May, Sep, Oct</p>
                            <p class="text-lg font-semibold mt-2" id="shoulder-price">$385/night</p>
                            <p class="text-sm text-gray-500 mt-1">Occupancy: <span id="shoulder-occ-display">65%</span></p>
                        </div>
                        <div class="p-4 bg-blue-50 rounded-lg">
                            <h4 class="font-semibold text-blue-800 mb-2">Off-Peak Season</h4>
                            <div class="mb-3">
                                <label class="block text-sm font-medium mb-1">Discount (%)</label>
                                <input type="number" id="offpeak-discount" value="15" onchange="updatePropertyWithAutoSave()" class="w-full p-2 border rounded text-center">
                            </div>
                            <p class="text-sm text-gray-600">Jan, Feb, Mar, Nov</p>
                            <p class="text-lg font-semibold mt-2" id="offpeak-price">$298/night</p>
                            <p class="text-sm text-gray-500 mt-1">Occupancy: <span id="offpeak-occ-display">45%</span></p>
                        </div>
                    </div>
                </div>

                <!-- Additional Services Revenue -->
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-lg font-semibold mb-4">Additional Services Revenue</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                            <div>
                                <h4 class="font-semibold">Accommodation</h4>
                                <p class="text-sm text-gray-600">Base Revenue Stream</p>
                            </div>
                            <div class="text-right">
                                <p class="font-semibold text-lg" id="accommodation-revenue">$630,000</p>
                                <p class="text-sm text-green-600">65% margin</p>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                            <div>
                                <h4 class="font-semibold">Culinary Operations</h4>
                                <p class="text-sm text-gray-600">% of Accommodation Revenue</p>
                            </div>
                            <div class="text-right flex items-center space-x-3">
                                <div>
                                    <input type="number" id="culinary-percentage" value="57" min="0" max="200" onchange="updatePropertyWithAutoSave()" class="w-16 p-2 border rounded text-center">
                                    <span class="text-sm">%</span>
                                </div>
                                <div>
                                    <p class="font-semibold text-lg" id="culinary-revenue">$360,000</p>
                                    <p class="text-sm text-green-600">55% margin</p>
                                </div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                            <div>
                                <h4 class="font-semibold">Wellness & Spa Services</h4>
                                <p class="text-sm text-gray-600">% of Accommodation Revenue</p>
                            </div>
                            <div class="text-right flex items-center space-x-3">
                                <div>
                                    <input type="number" id="wellness-percentage" value="30" min="0" max="200" onchange="updatePropertyWithAutoSave()" class="w-16 p-2 border rounded text-center">
                                    <span class="text-sm">%</span>
                                </div>
                                <div>
                                    <p class="font-semibold text-lg" id="wellness-revenue">$187,000</p>
                                    <p class="text-sm text-green-600">75% margin</p>
                                </div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                            <div>
                                <h4 class="font-semibold">Nautical & Water Sports</h4>
                                <p class="text-sm text-gray-600">% of Accommodation Revenue</p>
                            </div>
                            <div class="text-right flex items-center space-x-3">
                                <div>
                                    <input type="number" id="nautical-percentage" value="24" min="0" max="200" onchange="updatePropertyWithAutoSave()" class="w-16 p-2 border rounded text-center">
                                    <span class="text-sm">%</span>
                                </div>
                                <div>
                                    <p class="font-semibold text-lg" id="nautical-revenue">$150,000</p>
                                    <p class="text-sm text-green-600">70% margin</p>
                                </div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                            <div>
                                <h4 class="font-semibold">Event Hosting Services</h4>
                                <p class="text-sm text-gray-600">Independent Revenue Stream</p>
                            </div>
                            <div class="text-right">
                                <p class="font-semibold text-lg" id="events-revenue">$876,000</p>
                                <p class="text-sm text-green-600">60% margin</p>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                            <div>
                                <h4 class="font-semibold">Lifestyle Packages</h4>
                                <p class="text-sm text-gray-600">Independent Revenue Stream</p>
                            </div>
                            <div class="text-right">
                                <p class="font-semibold text-lg" id="packages-revenue">$459,000</p>
                                <p class="text-sm text-green-600">80% margin</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Packages Tab -->
        <div id="packages-content" class="tab-content hidden">
            <div class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-1 editable-field" contenteditable="true">3-Day Intensive Yoga & Wellness Retreat</h3>
                        <p class="text-sm text-gray-600 mb-4 editable-field" contenteditable="true">2 Nights ‚Ä¢ Daily Yoga Classes ‚Ä¢ Spa Treatments ‚Ä¢ Wellness Meals ‚Ä¢ Meditation Sessions</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Package Price ($)</label>
                                <input type="number" id="yoga-price" value="890" onchange="updatePackagesWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Monthly Bookings</label>
                                <input type="number" id="yoga-bookings" value="8" onchange="updatePackagesWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Yearly Revenue:</span>
                                <span class="text-lg font-bold text-green-600" id="yoga-revenue">$85,440</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-1 editable-field" contenteditable="true">Golf Discovery & Gourmet Experience</h3>
                        <p class="text-sm text-gray-600 mb-4 editable-field" contenteditable="true">3-5 Nights ‚Ä¢ Daily Golf (Different Courses) ‚Ä¢ Fine Dining ‚Ä¢ VIP Transportation ‚Ä¢ Golf Pro Lessons</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Package Price ($)</label>
                                <input type="number" id="golf-price" value="1650" onchange="updatePackagesWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Monthly Bookings</label>
                                <input type="number" id="golf-bookings" value="6" onchange="updatePackagesWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Yearly Revenue:</span>
                                <span class="text-lg font-bold text-green-600" id="golf-revenue">$118,800</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-1 editable-field" contenteditable="true">Urban Wellness Escape</h3>
                        <p class="text-sm text-gray-600 mb-4 editable-field" contenteditable="true">2 Nights ‚Ä¢ Hammam & Spa Circuit ‚Ä¢ Ocean Activities ‚Ä¢ Detox Meals ‚Ä¢ Beach Meditation</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Package Price ($)</label>
                                <input type="number" id="wellness-price" value="1240" onchange="updatePackagesWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Monthly Bookings</label>
                                <input type="number" id="wellness-bookings" value="10" onchange="updatePackagesWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Yearly Revenue:</span>
                                <span class="text-lg font-bold text-green-600" id="wellness-revenue">$148,800</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-1 editable-field" contenteditable="true">Professional Content Creation Package</h3>
                        <p class="text-sm text-gray-600 mb-4 editable-field" contenteditable="true">1 Night ‚Ä¢ Professional Photo/Video Shoots ‚Ä¢ Styling Team ‚Ä¢ Premium Suite Access ‚Ä¢ All Locations</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Package Price ($)</label>
                                <input type="number" id="content-price" value="2200" onchange="updatePackagesWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Monthly Bookings</label>
                                <input type="number" id="content-bookings" value="4" onchange="updatePackagesWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Yearly Revenue:</span>
                                <span class="text-lg font-bold text-green-600" id="content-revenue">$105,600</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Packages Revenue Summary -->
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-lg font-semibold mb-4">Packages Revenue Summary</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="text-center p-4 bg-purple-50 rounded-lg">
                            <p class="text-2xl font-bold text-purple-600" id="total-package-revenue">$458,640</p>
                            <p class="text-sm text-gray-600">Total Yearly Revenue</p>
                        </div>
                        <div class="text-center p-4 bg-blue-50 rounded-lg">
                            <p class="text-2xl font-bold text-blue-600" id="total-package-count">336</p>
                            <p class="text-sm text-gray-600">Total Yearly Packages</p>
                        </div>
                        <div class="text-center p-4 bg-green-50 rounded-lg">
                            <p class="text-2xl font-bold text-green-600" id="total-package-nights">816</p>
                            <p class="text-sm text-gray-600">Total Nights Used</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Event Services Tab -->
        <div id="events-content" class="tab-content hidden">
            <div class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-1 editable-field" contenteditable="true">Corporate Event Hosting</h3>
                        <p class="text-sm text-gray-600 mb-4 editable-field" contenteditable="true">Professional venues ‚Ä¢ AV equipment ‚Ä¢ Catering ‚Ä¢ Team building activities</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Price per Event ($)</label>
                                <input type="number" id="corporate-price" value="3500" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Monthly Events</label>
                                <input type="number" id="corporate-events" value="4" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Yearly Revenue:</span>
                                <span class="text-lg font-bold text-green-600" id="corporate-revenue">$168,000</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-1 editable-field" contenteditable="true">Wedding Ceremonies</h3>
                        <p class="text-sm text-gray-600 mb-4 editable-field" contenteditable="true">Ocean-view venues ‚Ä¢ Full planning ‚Ä¢ Catering ‚Ä¢ Accommodations</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Price per Event ($)</label>
                                <input type="number" id="wedding-price" value="8500" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Monthly Events</label>
                                <input type="number" id="wedding-events" value="2" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Yearly Revenue:</span>
                                <span class="text-lg font-bold text-green-600" id="wedding-revenue">$204,000</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-1 editable-field" contenteditable="true">Anniversary Celebrations</h3>
                        <p class="text-sm text-gray-600 mb-4 editable-field" contenteditable="true">Romantic settings ‚Ä¢ Personalized service ‚Ä¢ Special dining ‚Ä¢ Photography</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Price per Event ($)</label>
                                <input type="number" id="anniversary-price" value="2200" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Monthly Events</label>
                                <input type="number" id="anniversary-events" value="6" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Yearly Revenue:</span>
                                <span class="text-lg font-bold text-green-600" id="anniversary-revenue">$158,400</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-1 editable-field" contenteditable="true">Content Creation Services</h3>
                        <p class="text-sm text-gray-600 mb-4 editable-field" contenteditable="true">Professional photography ‚Ä¢ Video production ‚Ä¢ Styling ‚Ä¢ Location access</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Price per Event ($)</label>
                                <input type="number" id="creation-price" value="1800" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Monthly Events</label>
                                <input type="number" id="creation-events" value="8" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Yearly Revenue:</span>
                                <span class="text-lg font-bold text-green-600" id="creation-revenue">$172,800</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-1 editable-field" contenteditable="true">Wellness Half Day-Pass</h3>
                        <p class="text-sm text-gray-600 mb-4 editable-field" contenteditable="true">Spa access ‚Ä¢ Pool facilities ‚Ä¢ Wellness amenities ‚Ä¢ Light refreshments</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Price per Pass ($)</label>
                                <input type="number" id="wellness-pass-price" value="150" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Monthly Passes</label>
                                <input type="number" id="wellness-pass-events" value="25" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Yearly Revenue:</span>
                                <span class="text-lg font-bold text-green-600" id="wellness-pass-revenue">$45,000</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-1 editable-field" contenteditable="true">Nautical Activities 2-Hour Pass</h3>
                        <p class="text-sm text-gray-600 mb-4 editable-field" contenteditable="true">Jet ski rental ‚Ä¢ Boat access ‚Ä¢ Water sports equipment ‚Ä¢ Safety instruction</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Price per Pass ($)</label>
                                <input type="number" id="nautical-pass-price" value="180" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Monthly Passes</label>
                                <input type="number" id="nautical-pass-events" value="30" onchange="updateEventsWithAutoSave()" class="w-full p-3 border rounded-lg">
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Yearly Revenue:</span>
                                <span class="text-lg font-bold text-green-600" id="nautical-pass-revenue">$64,800</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Event Services Summary -->
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-lg font-semibold mb-4">Event Services Revenue Summary</h3>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="text-center p-4 bg-purple-50 rounded-lg">
                            <p class="text-2xl font-bold text-purple-600" id="total-event-revenue">$813,000</p>
                            <p class="text-sm text-gray-600">Total Yearly Revenue</p>
                        </div>
                        <div class="text-center p-4 bg-blue-50 rounded-lg">
                            <p class="text-2xl font-bold text-blue-600" id="total-event-count">900</p>
                            <p class="text-sm text-gray-600">Total Yearly Events</p>
                        </div>
                        <div class="text-center p-4 bg-green-50 rounded-lg">
                            <p class="text-2xl font-bold text-green-600" id="avg-event-value">$903</p>
                            <p class="text-sm text-gray-600">Average Event Value</p>
                        </div>
                        <div class="text-center p-4 bg-orange-50 rounded-lg">
                            <p class="text-2xl font-bold text-orange-600" id="event-revenue-share">31%</p>
                            <p class="text-sm text-gray-600">Revenue Share</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scenarios Tab -->
        <div id="scenarios-content" class="tab-content hidden">
            <div class="space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-lg font-semibold mb-4">Scenario Planning & Projections</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="p-6 rounded-lg border-2 border-yellow-200 bg-yellow-50">
                            <h4 class="font-semibold text-lg mb-3">Conservative Scenario</h4>
                            <div class="space-y-2">
                                <p><strong>Avg Occupancy:</strong> <span id="conservative-occ">55%</span></p>
                                <p><strong>Yearly Revenue:</strong> <span id="conservative-revenue">$2,023,606</span></p>
                                <p><strong>Profit Margin:</strong> 28%</p>
                                <p class="text-sm text-gray-600 mt-3">Assumes lower occupancy and reduced premium services uptake</p>
                            </div>
                        </div>
                        <div class="p-6 rounded-lg border-2 border-green-200 bg-green-50">
                            <h4 class="font-semibold text-lg mb-3">Current Scenario</h4>
                            <div class="space-y-2">
                                <p><strong>Avg Occupancy:</strong> <span id="current-occ">65%</span></p>
                                <p><strong>Yearly Revenue:</strong> <span id="current-revenue">$2,662,640</span></p>
                                <p><strong>Profit Margin:</strong> 35%</p>
                                <p class="text-sm text-gray-600 mt-3">Based on current performance metrics and market conditions</p>
                            </div>
                        </div>
                        <div class="p-6 rounded-lg border-2 border-blue-200 bg-blue-50">
                            <h4 class="font-semibold text-lg mb-3">Optimistic Scenario</h4>
                            <div class="space-y-2">
                                <p><strong>Avg Occupancy:</strong> <span id="optimistic-occ">78%</span></p>
                                <p><strong>Yearly Revenue:</strong> <span id="optimistic-revenue">$3,727,696</span></p>
                                <p><strong>Profit Margin:</strong> 42%</p>
                                <p class="text-sm text-gray-600 mt-3">Assumes high occupancy and premium services growth</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 5-Year Projection -->
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-lg font-semibold mb-4">5-Year Revenue Projection</h3>
                    <canvas id="projectionChart" width="400" height="200"></canvas>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                        <div class="text-center p-4 bg-gray-50 rounded-lg">
                            <p class="text-sm text-gray-600">Year 1</p>
                            <p class="text-xl font-bold">$2.66M</p>
                        </div>
                        <div class="text-center p-4 bg-gray-50 rounded-lg">
                            <p class="text-sm text-gray-600">Year 3</p>
                            <p class="text-xl font-bold">$3.45M</p>
                        </div>
                        <div class="text-center p-4 bg-gray-50 rounded-lg">
                            <p class="text-sm text-gray-600">Year 5</p>
                            <p class="text-xl font-bold">$4.83M</p>
                            <p class="text-xs text-green-600">+81% growth</p>
                        </div>
                    </div>
                </div>

                <!-- FIFA 2030 Special Scenario -->
                <div class="bg-gradient-to-r from-green-500 to-red-500 p-8 rounded-xl text-white">
                    <h3 class="text-2xl font-bold mb-6 text-center">FIFA World Cup 2030 Special Scenario</h3>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="bg-white bg-opacity-20 p-4 rounded-lg text-center">
                            <p class="text-3xl font-bold">45 days</p>
                            <p class="text-sm">Tournament Duration</p>
                        </div>
                        <div class="bg-white bg-opacity-20 p-4 rounded-lg text-center">
                            <p class="text-3xl font-bold">100%</p>
                            <p class="text-sm">Expected Occupancy</p>
                        </div>
                        <div class="bg-white bg-opacity-20 p-4 rounded-lg text-center">
                            <p class="text-3xl font-bold">$1,200</p>
                            <p class="text-sm">Average Daily Rate</p>
                        </div>
                        <div class="bg-white bg-opacity-20 p-4 rounded-lg text-center">
                            <p class="text-3xl font-bold">$324,000</p>
                            <p class="text-sm">Tournament Revenue</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics-content" class="tab-content hidden">
            <div class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-4">Performance Analytics</h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between mb-2">
                                    <span class="text-sm font-medium">Revenue per Guest</span>
                                    <span class="text-sm font-bold">$892</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-blue-600 h-2 rounded-full" style="width: 89%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-2">
                                    <span class="text-sm font-medium">Guest Satisfaction</span>
                                    <span class="text-sm font-bold">92%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-green-600 h-2 rounded-full" style="width: 92%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-2">
                                    <span class="text-sm font-medium">Operational Efficiency</span>
                                    <span class="text-sm font-bold">87%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-purple-600 h-2 rounded-full" style="width: 87%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-2">
                                    <span class="text-sm font-medium">Market Share</span>
                                    <span class="text-sm font-bold">12%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-orange-600 h-2 rounded-full" style="width: 12%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold mb-4">Business Unit Performance</h3>
                        <canvas id="unitPerformanceChart" width="400" height="300"></canvas>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-lg font-semibold mb-4">Monthly Revenue Trend</h3>
                    <canvas id="monthlyTrendChart" width="400" height="200"></canvas>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h4 class="font-semibold mb-3">Digital Performance</h4>
                        <div class="space-y-2">
                            <p><strong>Website Conversion:</strong> 3.2%</p>
                            <p><strong>Social Media Reach:</strong> 45K/month</p>
                            <p><strong>Email Open Rate:</strong> 32%</p>
                            <p><strong>Direct Bookings:</strong> 45%</p>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h4 class="font-semibold mb-3">Customer Metrics</h4>
                        <div class="space-y-2">
                            <p><strong>CAC:</strong> $125</p>
                            <p><strong>CLV:</strong> $2,850</p>
                            <p><strong>Repeat Rate:</strong> 35%</p>
                            <p><strong>Referral Rate:</strong> 28%</p>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h4 class="font-semibold mb-3">Sustainability Goals</h4>
                        <div class="space-y-2">
                            <p><strong>Energy Efficiency:</strong> 78%</p>
                            <p><strong>Water Conservation:</strong> 82%</p>
                            <p><strong>Local Sourcing:</strong> 65%</p>
                            <p><strong>Waste Reduction:</strong> 71%</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reports Tab -->
        <div id="reports-content" class="tab-content hidden">
            <div class="bg-white p-6 rounded-lg shadow-sm border">
                <h3 class="text-lg font-semibold mb-6">Executive Dashboard Reports</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="p-6 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-blue-400 transition-colors">
                        <div class="text-4xl mb-3">üí∞</div>
                        <h4 class="font-semibold mb-2">Financial Summary</h4>
                        <p class="text-sm text-gray-600 mb-4">Total revenue breakdown by business unit with key financial metrics</p>
                        <button onclick="generateReport('financial')" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Generate Report</button>
                    </div>

                    <div class="p-6 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-green-400 transition-colors">
                        <div class="text-4xl mb-3">üìà</div>
                        <h4 class="font-semibold mb-2">Operational Analysis</h4>
                        <p class="text-sm text-gray-600 mb-4">Property configuration details and seasonal pricing breakdown</p>
                        <button onclick="generateReport('operational')" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">Generate Report</button>
                    </div>

                    <div class="p-6 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-purple-400 transition-colors">
                        <div class="text-4xl mb-3">üèÜ</div>
                        <h4 class="font-semibold mb-2">Market Positioning</h4>
                        <p class="text-sm text-gray-600 mb-4">FIFA 2030 impact and competitive analysis with growth opportunities</p>
                        <button onclick="generateReport('market')" class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700">Generate Report</button>
                    </div>

                    <div class="p-6 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-orange-400 transition-colors">
                        <div class="text-4xl mb-3">üì¶</div>
                        <h4 class="font-semibold mb-2">Package Performance</h4>
                        <p class="text-sm text-gray-600 mb-4">Individual package revenue analysis and optimization recommendations</p>
                        <button onclick="generateReport('packages')" class="px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700">Generate Report</button>
                    </div>

                    <div class="p-6 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-red-400 transition-colors">
                        <div class="text-4xl mb-3">üéâ</div>
                        <h4 class="font-semibold mb-2">Event Services</h4>
                        <p class="text-sm text-gray-600 mb-4">Event revenue breakdown by type with volume and value analysis</p>
                        <button onclick="generateReport('events')" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">Generate Report</button>
                    </div>

                    <div class="p-6 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-indigo-400 transition-colors">
                        <div class="text-4xl mb-3">üìã</div>
                        <h4 class="font-semibold mb-2">Executive Summary</h4>
                        <p class="text-sm text-gray-600 mb-4">Complete business overview with 5-year projections for stakeholders</p>
                        <button onclick="generateReport('executive')" class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">Generate Report</button>
                    </div>
                </div>
            </div>

            <!-- Report Display Area -->
            <div id="report-display" class="hidden mt-6">
                <!-- Reports will be displayed here -->
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings-content" class="tab-content hidden">
            <div class="space-y-6">
                <!-- Settings Management -->
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-xl font-bold mb-4">‚öôÔ∏è Settings Management</h3>
                    <p class="text-gray-600 mb-6">Manage your revenue system configuration, save custom scenarios, and export data for analysis.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Save & Load Section -->
                        <div class="space-y-4">
                            <h4 class="text-lg font-semibold text-gray-800">üíæ Save & Load</h4>
                            <div class="space-y-3">
                                <button onclick="manualSave()" class="w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center">
                                    <span class="mr-2">üíæ</span> Save Current Settings
                                </button>
                                <button onclick="manualLoad()" class="w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center">
                                    <span class="mr-2">üìÅ</span> Load Saved Settings
                                </button>
                                <p class="text-sm text-gray-600">üí° Settings automatically save when you change values</p>
                            </div>
                        </div>

                        <!-- Export & Reset Section -->
                        <div class="space-y-4">
                            <h4 class="text-lg font-semibold text-gray-800">üì§ Export & Reset</h4>
                            <div class="space-y-3">
                                <button onclick="exportSettings()" class="w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center">
                                    <span class="mr-2">üì•</span> Export to File
                                </button>
                                <button onclick="resetToDefaults()" class="w-full px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center">
                                    <span class="mr-2">üóëÔ∏è</span> Reset to Defaults
                                </button>
                                <p class="text-sm text-gray-600">‚ö†Ô∏è Reset will clear all customizations</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Business Information -->
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-xl font-bold mb-4">üè® Business Information</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold mb-3">Property Details</h4>
                            <div class="space-y-2 text-sm">
                                <p><strong>Name:</strong> Bahia Golf Beach Resort</p>
                                <p><strong>Location:</strong> Bouznika, Morocco</p>
                                <p><strong>Type:</strong> Luxury Beachfront Guesthouse</p>
                                <p><strong>Position:</strong> Golf-front & Ocean-facing</p>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold mb-3">Unique Selling Points</h4>
                            <div class="space-y-2 text-sm">
                                <p>‚úÖ Private gated beach/golf resort</p>
                                <p>‚úÖ Equal distance to Casablanca & Rabat</p>
                                <p>‚úÖ FIFA 2030 World Cup proximity</p>
                                <p>‚úÖ Luxury wellness & sports facilities</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- System Information -->
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-xl font-bold mb-4">üìä System Information</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="text-center p-4 bg-blue-50 rounded-lg">
                            <div class="text-2xl font-bold text-blue-600">6</div>
                            <div class="text-sm text-gray-600">Business Units</div>
                        </div>
                        <div class="text-center p-4 bg-green-50 rounded-lg">
                            <div class="text-2xl font-bold text-green-600">6</div>
                            <div class="text-sm text-gray-600">Report Types</div>
                        </div>
                        <div class="text-center p-4 bg-purple-50 rounded-lg">
                            <div class="text-2xl font-bold text-purple-600">40+</div>
                            <div class="text-sm text-gray-600">Configurable Parameters</div>
                        </div>
                    </div>
                </div>

                <!-- Version Information -->
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <h3 class="text-xl font-bold mb-4">‚ÑπÔ∏è Version Information</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold mb-2">System Details</h4>
                            <div class="space-y-1 text-sm">
                                <p><strong>Version:</strong> 3.0.0 Premium</p>
                                <p><strong>Last Updated:</strong> June 2025</p>
                                <p><strong>Auto-Save:</strong> Enabled</p>
                                <p><strong>Export Format:</strong> JSON</p>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold mb-2">Features</h4>
                            <div class="space-y-1 text-sm">
                                <p>‚úÖ Real-time calculations</p>
                                <p>‚úÖ Dynamic pricing models</p>
                                <p>‚úÖ FIFA 2030 impact analysis</p>
                                <p>‚úÖ Professional report generation</p>
                                <p>‚úÖ 5-year revenue projections</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global business data object
        var businessData = {
            property: {
                rooms: 4,
                vipSuite: 1,
                baseRate: 350,
                vipRate: 650,
                peakOccupancy: 85,
                shoulderOccupancy: 65,
                offpeakOccupancy: 45,
                peakPremium: 40,
                shoulderPremium: 10,
                offpeakDiscount: 15,
                culinaryPercentage: 57,
                wellnessPercentage: 30,
                nauticalPercentage: 24
            },
            packages: {
                yoga: { price: 890, bookings: 8, nights: 2 },
                golf: { price: 1650, bookings: 6, nights: 4 },
                wellness: { price: 1240, bookings: 10, nights: 2 },
                content: { price: 2200, bookings: 4, nights: 1 }
            },
            events: {
                corporate: { price: 3500, events: 4 },
                wedding: { price: 8500, events: 2 },
                anniversary: { price: 2200, events: 6 },
                creation: { price: 1800, events: 8 },
                wellnessPass: { price: 150, events: 25 },
                nauticalPass: { price: 180, events: 30 }
            }
        };

        // Chart instances
        var projectionChart = null;
        var unitPerformanceChart = null;
        var monthlyTrendChart = null;

        // Helper functions
        function getElementValue(id, defaultValue) {
            var element = document.getElementById(id);
            if (element && element.value) {
                var value = parseFloat(element.value);
                return isNaN(value) ? defaultValue : value;
            }
            return defaultValue;
        }

        function setElementText(id, text) {
            var element = document.getElementById(id);
            if (element) {
                element.textContent = text;
            }
        }

        function formatCurrency(amount) {
            return '$' + Math.round(amount).toLocaleString();
        }

        // Memory-based storage (instead of localStorage)
        var memoryStorage = {
            data: null,
            setItem: function(key, value) {
                this.data = value;
                return true;
            },
            getItem: function(key) {
                return this.data;
            },
            removeItem: function(key) {
                this.data = null;
            }
        };

        // Save settings to memory
        function saveSettings() {
            try {
                const settings = {
                    timestamp: new Date().toISOString(),
                    property: { ...businessData.property },
                    packages: { ...businessData.packages },
                    events: { ...businessData.events }
                };
                
                memoryStorage.setItem('bahiaRevenueSettings', JSON.stringify(settings));
                showSaveIndicator();
                console.log('‚úÖ Settings saved successfully');
                return true;
            } catch (error) {
                console.error('‚ùå Error saving settings:', error);
                return false;
            }
        }

        // Load settings from memory
        function loadSettings() {
            try {
                const savedSettings = memoryStorage.getItem('bahiaRevenueSettings');
                if (savedSettings) {
                    const settings = JSON.parse(savedSettings);
                    
                    // Update businessData
                    businessData.property = { ...businessData.property, ...settings.property };
                    businessData.packages = { ...businessData.packages, ...settings.packages };
                    businessData.events = { ...businessData.events, ...settings.events };
                    
                    // Update all input fields
                    updateAllInputFields();
                    console.log('‚úÖ Settings loaded from:', settings.timestamp);
                    return true;
                }
            } catch (error) {
                console.error('‚ùå Error loading settings:', error);
            }
            return false;
        }

        function updateAllInputFields() {
            // Property fields
            const propertyMappings = {
                'rooms': 'rooms',
                'vipSuite': 'vipSuite', 
                'baseRate': 'baseRate',
                'vipRate': 'vipRate',
                'peakOccupancy': 'peakOccupancy',
                'shoulderOccupancy': 'shoulderOccupancy',
                'offpeakOccupancy': 'offpeakOccupancy',
                'peak-premium': 'peakPremium',
                'shoulder-premium': 'shoulderPremium',
                'offpeak-discount': 'offpeakDiscount',
                'culinary-percentage': 'culinaryPercentage',
                'wellness-percentage': 'wellnessPercentage',
                'nautical-percentage': 'nauticalPercentage'
            };
            
            Object.entries(propertyMappings).forEach(([elementId, dataKey]) => {
                const element = document.getElementById(elementId);
                if (element && businessData.property[dataKey] !== undefined) {
                    element.value = businessData.property[dataKey];
                }
            });
            
            // Package fields
            const packageMappings = {
                'yoga-price': ['yoga', 'price'],
                'yoga-bookings': ['yoga', 'bookings'],
                'golf-price': ['golf', 'price'],
                'golf-bookings': ['golf', 'bookings'],
                'wellness-price': ['wellness', 'price'],
                'wellness-bookings': ['wellness', 'bookings'],
                'content-price': ['content', 'price'],
                'content-bookings': ['content', 'bookings']
            };
            
            Object.entries(packageMappings).forEach(([elementId, [packageType, property]]) => {
                const element = document.getElementById(elementId);
                if (element && businessData.packages[packageType] && businessData.packages[packageType][property] !== undefined) {
                    element.value = businessData.packages[packageType][property];
                }
            });
            
            // Event fields
            const eventMappings = {
                'corporate-price': ['corporate', 'price'],
                'corporate-events': ['corporate', 'events'],
                'wedding-price': ['wedding', 'price'],
                'wedding-events': ['wedding', 'events'],
                'anniversary-price': ['anniversary', 'price'],
                'anniversary-events': ['anniversary', 'events'],
                'creation-price': ['creation', 'price'],
                'creation-events': ['creation', 'events'],
                'wellness-pass-price': ['wellnessPass', 'price'],
                'wellness-pass-events': ['wellnessPass', 'events'],
                'nautical-pass-price': ['nauticalPass', 'price'],
                'nautical-pass-events': ['nauticalPass', 'events']
            };
            
            Object.entries(eventMappings).forEach(([elementId, [eventType, property]]) => {
                const element = document.getElementById(elementId);
                if (element && businessData.events[eventType] && businessData.events[eventType][property] !== undefined) {
                    element.value = businessData.events[eventType][property];
                }
            });
        }

        function showSaveIndicator() {
            const indicator = document.getElementById('saveIndicator');
            if (indicator) {
                indicator.classList.add('show');
                setTimeout(() => {
                    indicator.classList.remove('show');
                }, 2000);
            }
        }

        function updateBusinessDataFromInputs() {
            // Update property data
            businessData.property.rooms = getElementValue('rooms', 4);
            businessData.property.vipSuite = getElementValue('vipSuite', 1);
            businessData.property.baseRate = getElementValue('baseRate', 350);
            businessData.property.vipRate = getElementValue('vipRate', 650);
            businessData.property.peakOccupancy = getElementValue('peakOccupancy', 85);
            businessData.property.shoulderOccupancy = getElementValue('shoulderOccupancy', 65);
            businessData.property.offpeakOccupancy = getElementValue('offpeakOccupancy', 45);
            businessData.property.peakPremium = getElementValue('peak-premium', 40);
            businessData.property.shoulderPremium = getElementValue('shoulder-premium', 10);
            businessData.property.offpeakDiscount = getElementValue('offpeak-discount', 15);
            businessData.property.culinaryPercentage = getElementValue('culinary-percentage', 57);
            businessData.property.wellnessPercentage = getElementValue('wellness-percentage', 30);
            businessData.property.nauticalPercentage = getElementValue('nautical-percentage', 24);
            
            // Update package data
            businessData.packages.yoga.price = getElementValue('yoga-price', 890);
            businessData.packages.yoga.bookings = getElementValue('yoga-bookings', 8);
            businessData.packages.golf.price = getElementValue('golf-price', 1650);
            businessData.packages.golf.bookings = getElementValue('golf-bookings', 6);
            businessData.packages.wellness.price = getElementValue('wellness-price', 1240);
            businessData.packages.wellness.bookings = getElementValue('wellness-bookings', 10);
            businessData.packages.content.price = getElementValue('content-price', 2200);
            businessData.packages.content.bookings = getElementValue('content-bookings', 4);
            
            // Update event data
            businessData.events.corporate.price = getElementValue('corporate-price', 3500);
            businessData.events.corporate.events = getElementValue('corporate-events', 4);
            businessData.events.wedding.price = getElementValue('wedding-price', 8500);
            businessData.events.wedding.events = getElementValue('wedding-events', 2);
            businessData.events.anniversary.price = getElementValue('anniversary-price', 2200);
            businessData.events.anniversary.events = getElementValue('anniversary-events', 6);
            businessData.events.creation.price = getElementValue('creation-price', 1800);
            businessData.events.creation.events = getElementValue('creation-events', 8);
            businessData.events.wellnessPass.price = getElementValue('wellness-pass-price', 150);
            businessData.events.wellnessPass.events = getElementValue('wellness-pass-events', 25);
            businessData.events.nauticalPass.price = getElementValue('nautical-pass-price', 180);
            businessData.events.nauticalPass.events = getElementValue('nautical-pass-events', 30);
        }

        // Manual save/load/reset functions
        function manualSave() {
            updateBusinessDataFromInputs();
            if (saveSettings()) {
                alert('üíæ Settings saved successfully!');
            } else {
                alert('‚ùå Error saving settings. Please try again.');
            }
        }

        function manualLoad() {
            if (loadSettings()) {
                // Refresh all calculations
                updateDashboard();
                updatePricing();
                updatePackageDisplay();
                updateEventDisplay();
                updateOccupancyDisplays();
                updateScenarios();
                updateCharts();
                alert('üìÅ Settings loaded successfully!');
            } else {
                alert('‚ùå No saved settings found.');
            }
        }

        function resetToDefaults() {
            if (confirm('üóëÔ∏è Are you sure you want to reset all settings to defaults? This cannot be undone.')) {
                memoryStorage.removeItem('bahiaRevenueSettings');
                location.reload();
            }
        }

        // Export current settings as file
        function exportSettings() {
            updateBusinessDataFromInputs();
            const settings = {
                version: "3.0",
                exportDate: new Date().toISOString(),
                property: businessData.property,
                packages: businessData.packages,
                events: businessData.events
            };
            
            const dataStr = JSON.stringify(settings, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `bahia-settings-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Enhanced update functions with auto-save
        function updatePropertyWithAutoSave() {
            updateProperty();
            setTimeout(() => {
                updateBusinessDataFromInputs();
                saveSettings();
            }, 100);
        }

        function updatePackagesWithAutoSave() {
            updatePackages();
            setTimeout(() => {
                updateBusinessDataFromInputs();
                saveSettings();
            }, 100);
        }

        function updateEventsWithAutoSave() {
            updateEvents();
            setTimeout(() => {
                updateBusinessDataFromInputs();
                saveSettings();
            }, 100);
        }

        // Tab management
        function showTab(tabName) {
            // Hide all tab content
            var contents = document.querySelectorAll('.tab-content');
            for (var i = 0; i < contents.length; i++) {
                contents[i].classList.add('hidden');
            }
            
            // Reset all tabs to inactive
            var tabs = document.querySelectorAll('[id^="tab-"]');
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].className = 'tab-inactive py-4 px-1 font-medium text-sm whitespace-nowrap';
            }
            
            // Show selected content
            var selectedContent = document.getElementById(tabName + '-content');
            if (selectedContent) {
                selectedContent.classList.remove('hidden');
            }
            
            // Activate selected tab
            var selectedTab = document.getElementById('tab-' + tabName);
            if (selectedTab) {
                selectedTab.className = 'tab-active py-4 px-1 font-medium text-sm whitespace-nowrap';
            }

            // Update charts if analytics tab
            if (tabName === 'analytics') {
                setTimeout(updateAnalyticsCharts, 100);
            }
            
            // Update projections if scenarios tab
            if (tabName === 'scenarios') {
                setTimeout(updateProjectionChart, 100);
            }
        }

        // Calculate accommodation metrics
        function calculateAccommodationMetrics() {
            var totalRooms = businessData.property.rooms + businessData.property.vipSuite;
            var weightedOccupancy = (
                (businessData.property.peakOccupancy * 4) +
                (businessData.property.shoulderOccupancy * 4) +
                (businessData.property.offpeakOccupancy * 4)
            ) / 12;
            
            var baseRate = businessData.property.baseRate;
            var vipRate = businessData.property.vipRate;
            
            var peakRate = baseRate * (1 + businessData.property.peakPremium / 100);
            var shoulderRate = baseRate * (1 + businessData.property.shoulderPremium / 100);
            var offpeakRate = baseRate * (1 - businessData.property.offpeakDiscount / 100);
            
            var peakVipRate = vipRate * (1 + businessData.property.peakPremium / 100);
            var shoulderVipRate = vipRate * (1 + businessData.property.shoulderPremium / 100);
            var offpeakVipRate = vipRate * (1 - businessData.property.offpeakDiscount / 100);
            
            var daysPerSeason = 4 * 30.4;
            
            var peakRevenue = (peakRate * businessData.property.rooms + peakVipRate * businessData.property.vipSuite) * 
                              daysPerSeason * (businessData.property.peakOccupancy / 100);
            var shoulderRevenue = (shoulderRate * businessData.property.rooms + shoulderVipRate * businessData.property.vipSuite) * 
                                  daysPerSeason * (businessData.property.shoulderOccupancy / 100);
            var offpeakRevenue = (offpeakRate * businessData.property.rooms + offpeakVipRate * businessData.property.vipSuite) * 
                                 daysPerSeason * (businessData.property.offpeakOccupancy / 100);
            
            var totalAccommodationRevenue = peakRevenue + shoulderRevenue + offpeakRevenue;
            var totalOccupiedNights = (totalRooms * daysPerSeason * businessData.property.peakOccupancy / 100) + 
                                      (totalRooms * daysPerSeason * businessData.property.shoulderOccupancy / 100) + 
                                      (totalRooms * daysPerSeason * businessData.property.offpeakOccupancy / 100);
            var weightedADR = totalOccupiedNights > 0 ? totalAccommodationRevenue / totalOccupiedNights : 0;
            
            var revpar = totalAccommodationRevenue / (totalRooms * 365);
            
            return {
                accommodationRevenue: totalAccommodationRevenue,
                weightedOccupancy: weightedOccupancy,
                weightedADR: weightedADR,
                totalRooms: totalRooms,
                totalRoomNights: totalRooms * 365,
                revpar: revpar
            };
        }

        // Calculate additional revenue streams
        function calculateAdditionalRevenues(accommodationRevenue) {
            return {
                culinary: accommodationRevenue * (businessData.property.culinaryPercentage / 100),
                wellness: accommodationRevenue * (businessData.property.wellnessPercentage / 100),
                nautical: accommodationRevenue * (businessData.property.nauticalPercentage / 100)
            };
        }

        // Calculate package revenues
        function calculatePackageRevenues() {
            var totalRevenue = 0;
            var totalPackages = 0;
            var totalNights = 0;
            
            Object.values(businessData.packages).forEach(pkg => {
                var yearlyRevenue = pkg.price * pkg.bookings * 12;
                totalRevenue += yearlyRevenue;
                totalPackages += pkg.bookings * 12;
                totalNights += pkg.nights * pkg.bookings * 12;
            });
            
            return {
                total: totalRevenue,
                count: totalPackages,
                nights: totalNights,
                individual: {
                    yoga: businessData.packages.yoga.price * businessData.packages.yoga.bookings * 12,
                    golf: businessData.packages.golf.price * businessData.packages.golf.bookings * 12,
                    wellness: businessData.packages.wellness.price * businessData.packages.wellness.bookings * 12,
                    content: businessData.packages.content.price * businessData.packages.content.bookings * 12
                }
            };
        }

        // Calculate event revenues
        function calculateEventRevenues() {
            var totalRevenue = 0;
            var totalEvents = 0;
            
            Object.values(businessData.events).forEach(event => {
                var yearlyRevenue = event.price * event.events * 12;
                totalRevenue += yearlyRevenue;
                totalEvents += event.events * 12;
            });
            
            return {
                total: totalRevenue,
                count: totalEvents,
                average: totalEvents > 0 ? totalRevenue / totalEvents : 0,
                individual: {
                    corporate: businessData.events.corporate.price * businessData.events.corporate.events * 12,
                    wedding: businessData.events.wedding.price * businessData.events.wedding.events * 12,
                    anniversary: businessData.events.anniversary.price * businessData.events.anniversary.events * 12,
                    creation: businessData.events.creation.price * businessData.events.creation.events * 12,
                    wellnessPass: businessData.events.wellnessPass.price * businessData.events.wellnessPass.events * 12,
                    nauticalPass: businessData.events.nauticalPass.price * businessData.events.nauticalPass.events * 12
                }
            };
        }

        // Update property calculations
        function updateProperty() {
            updateBusinessDataFromInputs();
            updateDashboard();
            updatePricing();
            updateOccupancyDisplays();
            updateScenarios();
        }

        // Update packages calculations
        function updatePackages() {
            updateBusinessDataFromInputs();
            updatePackageDisplay();
            updateDashboard();
            updateScenarios();
        }

        // Update events calculations
        function updateEvents() {
            updateBusinessDataFromInputs();
            updateEventDisplay();
            updateDashboard();
            updateScenarios();
        }

        // Update dashboard
        function updateDashboard() {
            var metrics = calculateAccommodationMetrics();
            var additionalRevenues = calculateAdditionalRevenues(metrics.accommodationRevenue);
            var packageRevenues = calculatePackageRevenues();
            var eventRevenues = calculateEventRevenues();
            
            var totalRevenue = metrics.accommodationRevenue + 
                              additionalRevenues.culinary + 
                              additionalRevenues.wellness + 
                              additionalRevenues.nautical + 
                              packageRevenues.total + 
                              eventRevenues.total;
            
            // Update KPIs
            setElementText('revpar', formatCurrency(metrics.revpar));
            setElementText('adr', formatCurrency(metrics.weightedADR));
            setElementText('occupancy', Math.round(metrics.weightedOccupancy) + '%');
            setElementText('total-revenue', formatCurrency(totalRevenue));
            
            // Update revenue displays
            setElementText('accommodation-revenue', formatCurrency(metrics.accommodationRevenue));
            setElementText('culinary-revenue', formatCurrency(additionalRevenues.culinary));
            setElementText('wellness-revenue', formatCurrency(additionalRevenues.wellness));
            setElementText('nautical-revenue', formatCurrency(additionalRevenues.nautical));
            setElementText('events-revenue', formatCurrency(eventRevenues.total));
            setElementText('packages-revenue', formatCurrency(packageRevenues.total));
            
            // Update bar chart
            updateBarChart(metrics.accommodationRevenue, additionalRevenues, packageRevenues, eventRevenues);
        }

        // Update bar chart
        function updateBarChart(accommodation, additional, packages, events) {
            var maxRevenue = Math.max(
                accommodation,
                additional.culinary,
                additional.wellness,
                additional.nautical,
                events.total,
                packages.total
            );
            
            var bars = [
                { id: 'bar-accommodation', value: accommodation, label: formatCurrency(Math.round(accommodation / 1000)) + 'K' },
                { id: 'bar-culinary', value: additional.culinary, label: formatCurrency(Math.round(additional.culinary / 1000)) + 'K' },
                { id: 'bar-wellness', value: additional.wellness, label: formatCurrency(Math.round(additional.wellness / 1000)) + 'K' },
                { id: 'bar-nautical', value: additional.nautical, label: formatCurrency(Math.round(additional.nautical / 1000)) + 'K' },
                { id: 'bar-events', value: events.total, label: formatCurrency(Math.round(events.total / 1000)) + 'K' },
                { id: 'bar-lifestyle', value: packages.total, label: formatCurrency(Math.round(packages.total / 1000)) + 'K' }
            ];
            
            bars.forEach(bar => {
                var element = document.getElementById(bar.id);
                if (element) {
                    var height = (bar.value / maxRevenue) * 100;
                    element.style.height = height + '%';
                    var valueElement = element.querySelector('.bar-value');
                    if (valueElement) {
                        valueElement.textContent = bar.label;
                    }
                }
            });
        }

        // Update pricing displays
        function updatePricing() {
            var baseRate = businessData.property.baseRate;
            var peakRate = baseRate * (1 + businessData.property.peakPremium / 100);
            var shoulderRate = baseRate * (1 + businessData.property.shoulderPremium / 100);
            var offpeakRate = baseRate * (1 - businessData.property.offpeakDiscount / 100);
            
            setElementText('peak-price', formatCurrency(peakRate) + '/night');
            setElementText('shoulder-price', formatCurrency(shoulderRate) + '/night');
            setElementText('offpeak-price', formatCurrency(offpeakRate) + '/night');
        }

        // Update package display
        function updatePackageDisplay() {
            var packageRevenues = calculatePackageRevenues();
            
            setElementText('yoga-revenue', formatCurrency(packageRevenues.individual.yoga));
            setElementText('golf-revenue', formatCurrency(packageRevenues.individual.golf));
            setElementText('wellness-revenue', formatCurrency(packageRevenues.individual.wellness));
            setElementText('content-revenue', formatCurrency(packageRevenues.individual.content));
            
            setElementText('total-package-revenue', formatCurrency(packageRevenues.total));
            setElementText('total-package-count', packageRevenues.count.toString());
            setElementText('total-package-nights', packageRevenues.nights.toString());
        }

        // Update event display
        function updateEventDisplay() {
            var eventRevenues = calculateEventRevenues();
            var totalRevenue = calculateTotalRevenue();
            
            setElementText('corporate-revenue', formatCurrency(eventRevenues.individual.corporate));
            setElementText('wedding-revenue', formatCurrency(eventRevenues.individual.wedding));
            setElementText('anniversary-revenue', formatCurrency(eventRevenues.individual.anniversary));
            setElementText('creation-revenue', formatCurrency(eventRevenues.individual.creation));
            setElementText('wellness-pass-revenue', formatCurrency(eventRevenues.individual.wellnessPass));
            setElementText('nautical-pass-revenue', formatCurrency(eventRevenues.individual.nauticalPass));
            
            setElementText('total-event-revenue', formatCurrency(eventRevenues.total));
            setElementText('total-event-count', eventRevenues.count.toString());
            setElementText('avg-event-value', formatCurrency(eventRevenues.average));
            setElementText('event-revenue-share', Math.round((eventRevenues.total / totalRevenue) * 100) + '%');
        }

        // Update occupancy displays
        function updateOccupancyDisplays() {
            setElementText('peak-occ-display', businessData.property.peakOccupancy + '%');
            setElementText('shoulder-occ-display', businessData.property.shoulderOccupancy + '%');
            setElementText('offpeak-occ-display', businessData.property.offpeakOccupancy + '%');
        }

        // Calculate total revenue
        function calculateTotalRevenue() {
            var metrics = calculateAccommodationMetrics();
            var additionalRevenues = calculateAdditionalRevenues(metrics.accommodationRevenue);
            var packageRevenues = calculatePackageRevenues();
            var eventRevenues = calculateEventRevenues();
            
            return metrics.accommodationRevenue + 
                   additionalRevenues.culinary + 
                   additionalRevenues.wellness + 
                   additionalRevenues.nautical + 
                   packageRevenues.total + 
                   eventRevenues.total;
        }

        // Update scenarios
        function updateScenarios() {
            var currentRevenue = calculateTotalRevenue();
            var conservativeRevenue = currentRevenue * 0.76;
            var optimisticRevenue = currentRevenue * 1.4;
            
            var metrics = calculateAccommodationMetrics();
            
            setElementText('conservative-occ', Math.round(metrics.weightedOccupancy * 0.85) + '%');
            setElementText('conservative-revenue', formatCurrency(conservativeRevenue));
            
            setElementText('current-occ', Math.round(metrics.weightedOccupancy) + '%');
            setElementText('current-revenue', formatCurrency(currentRevenue));
            
            setElementText('optimistic-occ', Math.round(metrics.weightedOccupancy * 1.2) + '%');
            setElementText('optimistic-revenue', formatCurrency(optimisticRevenue));
        }

        // Update charts
        function updateCharts() {
            updateProjectionChart();
            updateAnalyticsCharts();
        }

        function updateProjectionChart() {
            var ctx = document.getElementById('projectionChart');
            if (!ctx) return;
            
            var currentRevenue = calculateTotalRevenue();
            
            if (projectionChart) {
                projectionChart.destroy();
            }
            
            projectionChart = new Chart(ctx.getContext('2d'), {
                type: 'line',
                data: {
                    labels: ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5'],
                    datasets: [{
                        label: 'Revenue Projection',
                        data: [
                            currentRevenue,
                            currentRevenue * 1.15,
                            currentRevenue * 1.3,
                            currentRevenue * 1.5,
                            currentRevenue * 1.8
                        ],
                        borderColor: 'rgb(59, 130, 246)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + (value / 1000000).toFixed(1) + 'M';
                                }
                            }
                        }
                    }
                }
            });
        }

        function updateAnalyticsCharts() {
            updateUnitPerformanceChart();
            updateMonthlyTrendChart();
        }

        function updateUnitPerformanceChart() {
            var ctx = document.getElementById('unitPerformanceChart');
            if (!ctx) return;
            
            var metrics = calculateAccommodationMetrics();
            var additionalRevenues = calculateAdditionalRevenues(metrics.accommodationRevenue);
            var packageRevenues = calculatePackageRevenues();
            var eventRevenues = calculateEventRevenues();
            
            if (unitPerformanceChart) {
                unitPerformanceChart.destroy();
            }
            
            unitPerformanceChart = new Chart(ctx.getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['Accommodation', 'Culinary', 'Wellness', 'Nautical', 'Events', 'Packages'],
                    datasets: [{
                        data: [
                            metrics.accommodationRevenue,
                            additionalRevenues.culinary,
                            additionalRevenues.wellness,
                            additionalRevenues.nautical,
                            eventRevenues.total,
                            packageRevenues.total
                        ],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(34, 197, 94, 0.8)',
                            'rgba(147, 51, 234, 0.8)',
                            'rgba(6, 182, 212, 0.8)',
                            'rgba(239, 68, 68, 0.8)',
                            'rgba(249, 115, 22, 0.8)'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { padding: 15 }
                        }
                    }
                }
            });
        }

        function updateMonthlyTrendChart() {
            var ctx = document.getElementById('monthlyTrendChart');
            if (!ctx) return;
            
            var monthlyRevenue = calculateTotalRevenue() / 12;
            
            if (monthlyTrendChart) {
                monthlyTrendChart.destroy();
            }
            
            monthlyTrendChart = new Chart(ctx.getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Monthly Revenue',
                        data: [
                            monthlyRevenue * 0.7,
                            monthlyRevenue * 0.75,
                            monthlyRevenue * 0.8,
                            monthlyRevenue * 1.1,
                            monthlyRevenue * 1.15,
                            monthlyRevenue * 1.3,
                            monthlyRevenue * 1.4,
                            monthlyRevenue * 1.35,
                            monthlyRevenue * 1.1,
                            monthlyRevenue * 1.05,
                            monthlyRevenue * 0.85,
                            monthlyRevenue * 1.2
                        ],
                        backgroundColor: 'rgba(59, 130, 246, 0.8)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + (value / 1000).toFixed(0) + 'K';
                                }
                            }
                        }
                    }
                }
            });
        }

        // Generate report function
        function generateReport(reportType) {
            var reportDisplay = document.getElementById('report-display');
            if (!reportDisplay) return;
            
            reportDisplay.classList.remove('hidden');
            
            var reportContent = generateReportContent(reportType);
            reportDisplay.innerHTML = reportContent;
            
            // Scroll to report
            reportDisplay.scrollIntoView({ behavior: 'smooth' });
        }

        // Generate report content based on type
        function generateReportContent(reportType) {
            var currentDate = new Date().toLocaleDateString();
            var revenue = calculateTotalRevenue();
            
            switch(reportType) {
                case 'financial':
                    return generateFinancialReport(currentDate, revenue);
                case 'operational':
                    return generateOperationalReport(currentDate);
                case 'market':
                    return generateMarketReport(currentDate);
                case 'packages':
                    return generatePackagesReport(currentDate);
                case 'events':
                    return generateEventsReport(currentDate);
                case 'executive':
                    return generateExecutiveReport(currentDate, revenue);
                default:
                    return '<div class="bg-white p-6 rounded-lg shadow-sm border"><p>Report type not found.</p></div>';
            }
        }

        // Generate financial report
        function generateFinancialReport(date, revenue) {
            var metrics = calculateAccommodationMetrics();
            var additionalRevenues = calculateAdditionalRevenues(metrics.accommodationRevenue);
            var packageRevenues = calculatePackageRevenues();
            var eventRevenues = calculateEventRevenues();
            
            return `
                <div class="report-header">
                    <h2 class="text-3xl font-bold">Financial Summary Report</h2>
                    <p class="text-lg mt-2">Bahia Golf Beach Resort</p>
                    <p class="mt-1">Generated: ${date}</p>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Executive Summary</h3>
                    <p class="text-gray-700">Total annual revenue projection: <strong>${formatCurrency(revenue)}</strong></p>
                    <p class="text-gray-700 mt-2">The resort is performing well with strong revenue diversification across all business units.</p>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Revenue Breakdown by Business Unit</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="metric-card">
                            <h4 class="font-semibold">Accommodation Services</h4>
                            <p class="text-2xl font-bold mt-2">${formatCurrency(metrics.accommodationRevenue)}</p>
                            <p class="text-sm text-gray-600">Base revenue stream</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Culinary Operations</h4>
                            <p class="text-2xl font-bold mt-2">${formatCurrency(additionalRevenues.culinary)}</p>
                            <p class="text-sm text-gray-600">${businessData.property.culinaryPercentage}% of accommodation</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Wellness & Spa</h4>
                            <p class="text-2xl font-bold mt-2">${formatCurrency(additionalRevenues.wellness)}</p>
                            <p class="text-sm text-gray-600">${businessData.property.wellnessPercentage}% of accommodation</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Nautical Activities</h4>
                            <p class="text-2xl font-bold mt-2">${formatCurrency(additionalRevenues.nautical)}</p>
                            <p class="text-sm text-gray-600">${businessData.property.nauticalPercentage}% of accommodation</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Event Services</h4>
                            <p class="text-2xl font-bold mt-2">${formatCurrency(eventRevenues.total)}</p>
                            <p class="text-sm text-gray-600">${eventRevenues.count} events annually</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Lifestyle Packages</h4>
                            <p class="text-2xl font-bold mt-2">${formatCurrency(packageRevenues.total)}</p>
                            <p class="text-sm text-gray-600">${packageRevenues.count} packages annually</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Generate operational report
        function generateOperationalReport(date) {
            var metrics = calculateAccommodationMetrics();
            
            return `
                <div class="report-header">
                    <h2 class="text-3xl font-bold">Operational Analysis Report</h2>
                    <p class="text-lg mt-2">Bahia Golf Beach Resort</p>
                    <p class="mt-1">Generated: ${date}</p>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Property Configuration</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="metric-card">
                            <h4 class="font-semibold">Room Inventory</h4>
                            <p class="mt-2">Deluxe Rooms: ${businessData.property.rooms}</p>
                            <p>VIP Suites: ${businessData.property.vipSuite}</p>
                            <p class="font-semibold mt-2">Total Rooms: ${metrics.totalRooms}</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Base Pricing</h4>
                            <p class="mt-2">Standard Rate: ${formatCurrency(businessData.property.baseRate)}</p>
                            <p>VIP Suite Rate: ${formatCurrency(businessData.property.vipRate)}</p>
                            <p class="font-semibold mt-2">Avg ADR: ${formatCurrency(metrics.weightedADR)}</p>
                        </div>
                    </div>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Seasonal Performance</h3>
                    <div class="grid grid-cols-3 gap-4">
                        <div class="metric-card">
                            <h4 class="font-semibold text-red-700">Peak Season</h4>
                            <p class="mt-2">Occupancy: ${businessData.property.peakOccupancy}%</p>
                            <p>Premium: ${businessData.property.peakPremium}%</p>
                            <p>Months: Jun, Jul, Aug, Dec</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold text-yellow-700">Shoulder Season</h4>
                            <p class="mt-2">Occupancy: ${businessData.property.shoulderOccupancy}%</p>
                            <p>Premium: ${businessData.property.shoulderPremium}%</p>
                            <p>Months: Apr, May, Sep, Oct</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold text-blue-700">Off-Peak Season</h4>
                            <p class="mt-2">Occupancy: ${businessData.property.offpeakOccupancy}%</p>
                            <p>Discount: ${businessData.property.offpeakDiscount}%</p>
                            <p>Months: Jan, Feb, Mar, Nov</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Generate market report
        function generateMarketReport(date) {
            return `
                <div class="report-header">
                    <h2 class="text-3xl font-bold">Market Positioning Report</h2>
                    <p class="text-lg mt-2">Bahia Golf Beach Resort</p>
                    <p class="mt-1">Generated: ${date}</p>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">FIFA 2030 World Cup Impact</h3>
                    <p class="text-gray-700">Strategic location near Hassan II Stadium positions the resort for significant revenue opportunities during the 2030 FIFA World Cup.</p>
                    <div class="grid grid-cols-3 gap-4 mt-4">
                        <div class="metric-card">
                            <h4 class="font-semibold">Expected Occupancy</h4>
                            <p class="text-2xl font-bold mt-2">100%</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Premium ADR</h4>
                            <p class="text-2xl font-bold mt-2">$1,200</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Revenue Boost</h4>
                            <p class="text-2xl font-bold mt-2">+285%</p>
                        </div>
                    </div>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Competitive Advantages</h3>
                    <ul class="space-y-2 text-gray-700">
                        <li>‚Ä¢ Private gated beach/golf resort location</li>
                        <li>‚Ä¢ Equal distance to Casablanca and Rabat (strategic positioning)</li>
                        <li>‚Ä¢ Luxury wellness and sports facilities</li>
                        <li>‚Ä¢ Diversified revenue streams across 6 business units</li>
                        <li>‚Ä¢ High-margin lifestyle packages and event services</li>
                    </ul>
                </div>
            `;
        }

        // Generate packages report
        function generatePackagesReport(date) {
            var packageRevenues = calculatePackageRevenues();
            
            return `
                <div class="report-header">
                    <h2 class="text-3xl font-bold">Package Performance Report</h2>
                    <p class="text-lg mt-2">Bahia Golf Beach Resort</p>
                    <p class="mt-1">Generated: ${date}</p>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Package Revenue Analysis</h3>
                    <p class="text-gray-700 mb-4">Total package revenue: <strong>${formatCurrency(packageRevenues.total)}</strong></p>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="metric-card">
                            <h4 class="font-semibold">Yoga & Wellness Retreat</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(packageRevenues.individual.yoga)}</p>
                            <p class="text-sm text-gray-600">${businessData.packages.yoga.bookings * 12} bookings/year</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Golf Discovery Package</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(packageRevenues.individual.golf)}</p>
                            <p class="text-sm text-gray-600">${businessData.packages.golf.bookings * 12} bookings/year</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Urban Wellness Escape</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(packageRevenues.individual.wellness)}</p>
                            <p class="text-sm text-gray-600">${businessData.packages.wellness.bookings * 12} bookings/year</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Content Creation Package</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(packageRevenues.individual.content)}</p>
                            <p class="text-sm text-gray-600">${businessData.packages.content.bookings * 12} bookings/year</p>
                        </div>
                    </div>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Package Insights</h3>
                    <p class="text-gray-700">The Urban Wellness Escape shows the highest booking frequency, while the Golf Discovery Package generates the highest revenue per booking. Content Creation Package offers unique positioning for influencer marketing.</p>
                </div>
            `;
        }

        // Generate events report
        function generateEventsReport(date) {
            var eventRevenues = calculateEventRevenues();
            
            return `
                <div class="report-header">
                    <h2 class="text-3xl font-bold">Event Services Report</h2>
                    <p class="text-lg mt-2">Bahia Golf Beach Resort</p>
                    <p class="mt-1">Generated: ${date}</p>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Event Revenue Breakdown</h3>
                    <p class="text-gray-700 mb-4">Total event revenue: <strong>${formatCurrency(eventRevenues.total)}</strong></p>
                    <div class="grid grid-cols-3 gap-4">
                        <div class="metric-card">
                            <h4 class="font-semibold">Corporate Events</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(eventRevenues.individual.corporate)}</p>
                            <p class="text-sm text-gray-600">${businessData.events.corporate.events * 12} events/year</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Weddings</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(eventRevenues.individual.wedding)}</p>
                            <p class="text-sm text-gray-600">${businessData.events.wedding.events * 12} events/year</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Anniversaries</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(eventRevenues.individual.anniversary)}</p>
                            <p class="text-sm text-gray-600">${businessData.events.anniversary.events * 12} events/year</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Content Creation</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(eventRevenues.individual.creation)}</p>
                            <p class="text-sm text-gray-600">${businessData.events.creation.events * 12} events/year</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Wellness Passes</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(eventRevenues.individual.wellnessPass)}</p>
                            <p class="text-sm text-gray-600">${businessData.events.wellnessPass.events * 12} passes/year</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Nautical Passes</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(eventRevenues.individual.nauticalPass)}</p>
                            <p class="text-sm text-gray-600">${businessData.events.nauticalPass.events * 12} passes/year</p>
                        </div>
                    </div>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Event Services Insights</h3>
                    <p class="text-gray-700">Event services represent ${Math.round((eventRevenues.total / calculateTotalRevenue()) * 100)}% of total revenue, making it the highest revenue-generating business unit. Wedding ceremonies show the highest value per event, while day passes provide consistent recurring revenue.</p>
                </div>
            `;
        }

        // Generate executive report
        function generateExecutiveReport(date, revenue) {
            var metrics = calculateAccommodationMetrics();
            
            return `
                <div class="report-header">
                    <h2 class="text-3xl font-bold">Executive Summary Report</h2>
                    <p class="text-lg mt-2">Bahia Golf Beach Resort</p>
                    <p class="mt-1">Generated: ${date}</p>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Business Overview</h3>
                    <p class="text-gray-700">Bahia Golf Beach Resort is a luxury beachfront guesthouse located in Bouznika, Morocco, offering premium accommodation, wellness services, and exclusive experiences.</p>
                    
                    <div class="grid grid-cols-2 gap-4 mt-6">
                        <div class="metric-card">
                            <h4 class="font-semibold">Total Annual Revenue</h4>
                            <p class="text-3xl font-bold mt-2">${formatCurrency(revenue)}</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Average Occupancy</h4>
                            <p class="text-3xl font-bold mt-2">${Math.round(metrics.weightedOccupancy)}%</p>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <h4 class="font-semibold mb-2">5-Year Revenue Projection</h4>
                        <div class="grid grid-cols-5 gap-2 text-center">
                            <div class="metric-card">
                                <p class="text-sm text-gray-600">Year 1</p>
                                <p class="font-bold">${formatCurrency(revenue)}</p>
                            </div>
                            <div class="metric-card">
                                <p class="text-sm text-gray-600">Year 2</p>
                                <p class="font-bold">${formatCurrency(revenue * 1.15)}</p>
                            </div>
                            <div class="metric-card">
                                <p class="text-sm text-gray-600">Year 3</p>
                                <p class="font-bold">${formatCurrency(revenue * 1.3)}</p>
                            </div>
                            <div class="metric-card">
                                <p class="text-sm text-gray-600">Year 4</p>
                                <p class="font-bold">${formatCurrency(revenue * 1.5)}</p>
                            </div>
                            <div class="metric-card">
                                <p class="text-sm text-gray-600">Year 5</p>
                                <p class="font-bold">${formatCurrency(revenue * 1.8)}</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Strategic Opportunities</h3>
                    <ul class="space-y-2 text-gray-700">
                        <li>‚Ä¢ FIFA 2030 World Cup presents exceptional revenue opportunity with projected 285% revenue increase</li>
                        <li>‚Ä¢ Strong market position with 12% market share in luxury hospitality segment</li>
                        <li>‚Ä¢ Diversified revenue streams reduce business risk and maximize property utilization</li>
                        <li>‚Ä¢ High-margin services (wellness 75%, packages 80%) drive profitability</li>
                        <li>‚Ä¢ Strategic location between Casablanca and Rabat captures business and leisure markets</li>
                    </ul>
                </div>
                
                <div class="report-section">
                    <h3 class="text-xl font-semibold mb-4">Key Performance Metrics</h3>
                    <div class="grid grid-cols-3 gap-4">
                        <div class="metric-card">
                            <h4 class="font-semibold">RevPAR</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(metrics.revpar)}</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">ADR</h4>
                            <p class="text-xl font-bold mt-2">${formatCurrency(metrics.weightedADR)}</p>
                        </div>
                        <div class="metric-card">
                            <h4 class="font-semibold">Rooms</h4>
                            <p class="text-xl font-bold mt-2">${metrics.totalRooms}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Initialize on load
        window.addEventListener('DOMContentLoaded', function() {
            // Load saved settings if available
            loadSettings();
            
            // Initialize calculations
            updateDashboard();
            updatePricing();
            updatePackageDisplay();
            updateEventDisplay();
            updateOccupancyDisplays();
            updateScenarios();
            
            // Initialize first tab
            showTab('dashboard');
        });
    </script>
</body>
</html>